---
title: "Components Overview"
description: "Developer-focused application bundles in cldctl"
---

# Components

Components are developer-focused application bundles defined in an `cld.yml` file. They describe what your application needs without specifying how infrastructure should be provisioned.

## File Structure

```yaml
# cld.yml
# Component name is determined by the OCI tag at build time
# README.md (if present) is bundled into the artifact for registry documentation

# Inheritance
extends: string                    # Path to base component file

# Docker image builds
builds: map<string, Build>

# Application resources
databases: map<string, Database>
buckets: map<string, Bucket>
encryptionKeys: map<string, EncryptionKey>
smtp: map<string, SMTP>
deployments: map<string, Deployment>
functions: map<string, Function>
services: map<string, Service>
routes: map<string, Route>
cronjobs: map<string, Cronjob>

# Configuration
variables: map<string, Variable>
dependencies: map<string, string>  # repo:tag references
```

## Resource Types

Components support a variety of resource types to define your application:

<CardGroup cols={2}>
  <Card title="Databases" icon="database" href="/components/databases">
    PostgreSQL, MySQL, MongoDB, Redis
  </Card>
  <Card title="Buckets" icon="bucket" href="/components/buckets">
    S3-compatible object storage
  </Card>
  <Card title="Encryption Keys" icon="key" href="/components/encryption-keys">
    RSA, ECDSA, symmetric keys, and salts
  </Card>
  <Card title="SMTP" icon="envelope" href="/components/smtp">
    Email sending capabilities
  </Card>
  <Card title="Deployments" icon="server" href="/components/deployments">
    Long-running container, VM, or process workloads
  </Card>
  <Card title="Functions" icon="bolt" href="/components/functions">
    Serverless auto-scaling workloads
  </Card>
  <Card title="Services" icon="network-wired" href="/components/services">
    Internal networking and service mesh
  </Card>
  <Card title="Routes" icon="route" href="/components/routes">
    External traffic routing (Gateway API)
  </Card>
  <Card title="Cronjobs" icon="clock" href="/components/cronjobs">
    Scheduled tasks
  </Card>
  <Card title="Variables" icon="sliders" href="/components/variables">
    Configurable inputs
  </Card>
  <Card title="Observability" icon="chart-line" href="/components/observability">
    OpenTelemetry logs, traces, and metrics
  </Card>
</CardGroup>

## Observability

Components can opt into [OpenTelemetry observability](/components/observability) with the `observability` block. Use expression-only mode for full control, or `inject: true` to have the engine auto-inject OTEL_* env vars into all workloads:

```yaml
observability:
  inject: true
  attributes:
    team: backend
```

When enabled, use `cldctl logs` to view workload logs and `cldctl observability dashboard` to open the monitoring UI. See the [full observability docs](/components/observability) for details.

## Expression System

Components use the `${{ ... }}` expression syntax to reference values:

```yaml
deployments:
  api:
    image: ${{ builds.api.image }}
    environment:
      DATABASE_URL: ${{ databases.main.url }}
      REDIS_URL: ${{ databases.cache.url }}
      LOG_LEVEL: ${{ variables.log_level }}
      API_URL: ${{ services.api.url }}
```

## Complete Example

```yaml
# my-app/cld.yml

variables:
  log_level:
    default: "info"
  stripe_key:
    required: true
    sensitive: true

databases:
  main:
    type: postgres:^15
  cache:
    type: redis

buckets:
  uploads:
    type: s3

builds:
  api:
    context: ./api

deployments:
  api:
    image: ${{ builds.api.image }}
    environment:
      DATABASE_URL: ${{ databases.main.url }}
      REDIS_URL: ${{ databases.cache.url }}

functions:
  web:
    src:
      path: ./web
      framework: nextjs

services:
  api:
    deployment: api
    port: 8080

routes:
  main:
    type: http
    service: api
```

## Next Steps

<CardGroup cols={2}>
  <Card title="Databases" icon="database" href="/components/databases">
    Start with database configuration
  </Card>
  <Card title="Quickstart" icon="rocket" href="/quickstart">
    Build your first component
  </Card>
</CardGroup>
