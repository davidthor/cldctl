---
title: "environment update"
description: "Update environment configuration"
---

# arcctl environment update

Update environment configuration.

<Note>
Use `arcctl env` as shorthand for `arcctl environment`.
</Note>

## Synopsis

```bash
arcctl environment update <name> [config-file] [options]
```

## Arguments

| Argument | Description |
|----------|-------------|
| `<name>` | Environment name (required) |
| `[config-file]` | Path to environment configuration file (optional) |

## Options

| Option | Description |
|--------|-------------|
| `-d, --datacenter <name>` | Change target datacenter |
| `--auto-approve` | Skip confirmation prompt (when using config file) |
| `--backend <type>` | State backend type |
| `--backend-config <key=value>` | Backend configuration |

## Usage Modes

### Update Specific Settings

Update individual environment settings with flags:

```bash
# Change the datacenter
arcctl env update staging --datacenter aws-production-v2
```

### Apply Configuration File

Apply a full environment configuration file by providing it as the second argument:

```bash
arcctl env update staging environment.yml
```

When providing a config file:
- Components defined in the file will be deployed or updated
- Components not in the file will be removed
- The datacenter and other settings will be updated to match the file

## Examples

```bash
# Update datacenter
arcctl env update staging --datacenter aws-production-v2

# Apply environment configuration file
arcctl env update staging staging.yml

# Apply with auto-approval (for CI/CD)
arcctl env update staging staging.yml --auto-approve

# Apply from a subdirectory
arcctl env update staging ./envs/staging.yml

# Apply with S3 backend
arcctl env update staging staging.yml \
  --backend s3 \
  --backend-config bucket=my-arcctl-state
```

## Execution Plan Output

When providing a config file, arcctl shows what changes will be made:

```
$ arcctl env update staging staging.yml

Environment: staging
Datacenter:  aws-production
Config file: staging.yml

Execution Plan:

  Components to deploy:
    + api-service (ghcr.io/myorg/api:v2.0.0)

  Components to update:
    ~ web-app: ghcr.io/myorg/web:v1.0.0 -> ghcr.io/myorg/web:v1.1.0

  Components to remove:
    - legacy-service

Plan: 1 to deploy, 1 to update, 1 to remove

Proceed with update? [Y/n]:
```

## See Also

- [`arcctl environment create`](/cli/environment/create) - Create a new environment
- [`arcctl environment get`](/cli/environment/get) - Get environment details
- [`arcctl environment destroy`](/cli/environment/destroy) - Destroy an environment
